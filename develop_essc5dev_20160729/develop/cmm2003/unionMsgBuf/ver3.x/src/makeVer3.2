# Wolfgang Wang, 2003/05/29

COMMDIR = $(UNIONLIBDIR)/
COMMLIBDIR = $(COMMDIR)lib/
COMMINCDIR = $(COMMDIR)include/
COMMBINDIR = $(COMMDIR)bin/
COMMETCDIR = $(COMMDIR)etc/
COMMSAMDIR = $(COMMDIR)sample/
COMMOBJDIR = $(COMMDIR)obj/

HOMEDIR = $(UNIONLIBDIR)/unionMsgBuf/
LIBDIR = $(HOMEDIR)lib/
BINDIR = $(HOMEDIR)bin/
INCDIR = $(HOMEDIR)include/

INCL =  -I $(HOMEDIR)include -I $(COMMINCDIR)
DEFS =  -D _UnionUseMaxMsgBufModel_  $(OSSPEC)

all:	UnionMsgBuf3.2.a	\
	testMsgBuf3.2		\
	Product			\
	rmobjs

.SUFFIXES:.c.o
.c.o:
	$(CC) $(DEFS) $(INCL) -c $*.c

objs0132 = 	UnionMsgBuf3.1.o
UnionMsgBuf3.2.a:	$(objs0132)
		ar rv UnionMsgBuf3.2.a $(objs0132)

LIBS0232 =	$(LIBDIR)testMsgBuf3.0.a	\
		UnionMsgBuf3.2.a		\
		$(COMMLIBDIR)UnionLog1.2.a
testMsgBuf3.2:	$(null)
		cc  -o testMsgBuf3.2 $(LIBS0232)

Product:	$(null)
		cp $(INCDIR)UnionMsgBuf3.x.h	$(COMMINCDIR)
		cp UnionMsgBuf3.2.a		$(COMMLIBDIR)
		cp UnionMsgBuf3.1.o		$(COMMOBJDIR)UnionMsgBuf3.2.o
		mv UnionMsgBuf3.2.a		$(LIBDIR)
		mv testMsgBuf3.2		$(BINDIR)

rmobjs:		$(null)
		rm *.o
